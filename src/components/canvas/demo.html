<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>John Doe - AI Powered Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Fira+Code:wght@400;500;600&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/TextPlugin.min.js"></script>

    <style>
      @property --gradient-angle {
        syntax: "<angle>";
        initial-value: 0deg;
        inherits: false;
      }

      body {
        font-family: "Inter", sans-serif;
        background-color: #0a0a0a;
        color: #e0e0e0;
        overflow-x: hidden;
        cursor: none;
      }
      .custom-cursor {
        position: fixed;
        left: 0;
        top: 0;
        pointer-events: none;
        z-index: 9999;
        transition: transform 0.1s ease-out;
      }
      .cursor-dot {
        width: 8px;
        height: 8px;
        background-color: #38bdf8;
        border-radius: 50%;
      }
      .cursor-outline {
        width: 30px;
        height: 30px;
        border: 2px solid #38bdf8;
        border-radius: 50%;
        position: absolute;
        left: -11px;
        top: -11px;
        opacity: 0.5;
        transition: transform 0.2s ease-out, opacity 0.2s ease-out,
          background-color 0.2s ease-out;
      }
      body:hover .cursor-outline {
        transform: scale(1.2);
      }
      a:hover ~ .custom-cursor .cursor-outline,
      button:hover ~ .custom-cursor .cursor-outline,
      .project-card:hover ~ .custom-cursor .cursor-outline,
      .role-node:hover ~ .custom-cursor .cursor-outline,
      .ai-insight-btn:hover ~ .custom-cursor .cursor-outline,
      .social-icon-link:hover ~ .custom-cursor .cursor-outline,
      #flappySkillsCanvas:hover ~ .custom-cursor .cursor-outline {
        transform: scale(1.5);
        opacity: 1;
        background-color: rgba(56, 189, 248, 0.2);
      }

      .glassmorphism {
        background: rgba(17, 24, 39, 0.8);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid rgba(55, 65, 81, 0.5);
      }
      .accent-glow {
        box-shadow: 0 0 15px rgba(56, 189, 248, 0.5),
          0 0 30px rgba(56, 189, 248, 0.3);
      }
      .section-title {
        font-size: 2.5rem;
        font-weight: 800;
        margin-bottom: 2.5rem;
        text-align: center;
        background: linear-gradient(90deg, #38bdf8, #a78bfa, #ec4899);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-size: 200% auto;
        animation: shimmer 5s linear infinite;
      }
      @keyframes shimmer {
        0% {
          background-position: 200% center;
        }
        100% {
          background-position: -200% center;
        }
      }

      .nav-link {
        position: relative;
        transition: color 0.3s ease;
        padding: 5px 0;
      }
      .nav-link::after {
        content: "";
        position: absolute;
        width: 0;
        height: 2px;
        bottom: -5px;
        left: 50%;
        transform: translateX(-50%);
        background-color: #38bdf8;
        transition: width 0.4s cubic-bezier(0.25, 1, 0.5, 1);
      }
      .nav-link:hover::after,
      .nav-link.active::after {
        width: 100%;
      }
      .nav-link:hover,
      .nav-link.active {
        color: #38bdf8;
      }

      .project-card {
        transition: transform 0.4s cubic-bezier(0.25, 1, 0.5, 1),
          box-shadow 0.4s cubic-bezier(0.25, 1, 0.5, 1);
        will-change: transform;
      }
      .project-card:hover {
        transform: translateY(-12px) scale(1.03) perspective(1000px)
          rotateX(2deg) rotateY(-2deg);
        box-shadow: 0 15px 30px rgba(56, 189, 248, 0.25),
          0 0 50px rgba(56, 189, 248, 0.15);
      }

      .experience-terminal {
        background-color: #111827;
        border: 1px solid #374151;
        border-radius: 0.75rem;
        padding: 1.5rem;
        font-family: "Fira Code", monospace;
        font-size: 0.9rem;
        line-height: 1.7;
        min-height: 350px;
        max-height: 500px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
        overflow-y: auto;
        position: relative;
      }
      .experience-terminal .prompt {
        color: #38bdf8;
      }
      .experience-terminal .comment {
        color: #6b7280;
        font-style: italic;
      }
      .experience-terminal .info-line {
        color: #e5e7eb;
      }
      .experience-terminal .role-title {
        color: #a78bfa;
        font-weight: 600;
      }
      .experience-terminal .company-date {
        color: #6ee7b7;
      }
      .experience-terminal .responsibility {
        color: #d1d5db;
        padding-left: 1.5rem;
        position: relative;
      }
      .experience-terminal .responsibility::before {
        content: "◦ ";
        color: #9ca3af;
        position: absolute;
        left: 0.25rem;
      }
      .typing-cursor {
        display: inline-block;
        background-color: #38bdf8;
        width: 8px;
        height: 1.2em;
        animation: blink 1s step-end infinite;
        vertical-align: text-bottom;
      }
      @keyframes blink {
        from,
        to {
          background-color: transparent;
        }
        50% {
          background-color: #38bdf8;
        }
      }

      /* Flappy Skills Game Styles */
      #flappySkillsContainer {
        width: 100%;
        max-width: 700px;
        height: 500px;
        margin: 1rem auto;
        border-radius: 0.75rem;
        overflow: hidden;
        position: relative;
        border: 2px solid #4f46e5; /* Indigo border for cyberpunk */
        background-color: #030712; /* Very dark blue/black */
      }
      #flappySkillsCanvas {
        display: block;
        width: 100%;
        height: 100%;
        cursor: pointer;
      }
      .flappy-game-instructions {
        background: rgba(17, 24, 39, 0.85);
        padding: 0.75rem 1.25rem;
        border-radius: 0.5rem;
        margin-top: 1rem;
        text-align: center;
        max-width: 500px;
        margin-left: auto;
        margin-right: auto;
        font-size: 0.9rem;
      }
      .flappy-game-instructions kbd {
        background-color: #ec4899; /* Pink accent for Flappy */
        color: #0a0a0a;
        padding: 0.2rem 0.5rem;
        border-radius: 0.25rem;
        font-family: "Fira Code", monospace;
        font-weight: 600;
        font-size: 0.85rem;
        box-shadow: 0 2px 0 #be185d; /* Darker pink */
      }

      #roles-canvas-container {
        position: relative;
        width: 100%;
        max-width: 800px;
        height: 500px;
        margin: 2rem auto;
        border-radius: 0.75rem;
        overflow: hidden;
      }
      #roles-canvas {
        display: block;
        width: 100%;
        height: 100%;
        background: radial-gradient(
          circle,
          rgba(23, 37, 84, 0.5) 0%,
          rgba(10, 10, 10, 0.8) 70%
        );
      }
      .role-tooltip {
        position: absolute;
        background: rgba(31, 41, 55, 0.95);
        color: #e0e0e0;
        padding: 0.5rem 0.75rem;
        border-radius: 0.375rem;
        font-size: 0.875rem;
        pointer-events: none;
        opacity: 0;
        transform: translate(-50%, -130%);
        transition: opacity 0.2s ease, transform 0.2s ease;
        white-space: nowrap;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
        z-index: 10;
      }
      .ai-insight-btn {
        position: absolute;
        transform: translate(-50%, 50%);
        background-color: #38bdf8;
        color: white;
        padding: 6px 12px;
        border-radius: 6px;
        font-size: 0.8rem;
        font-weight: 500;
        cursor: pointer;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease, transform 0.3s ease;
        box-shadow: 0 2px 10px rgba(56, 189, 248, 0.4);
      }
      .ai-insight-btn.visible {
        opacity: 1;
        pointer-events: auto;
        transform: translate(-50%, 20px);
      }
      .ai-insight-btn:hover {
        background-color: #0ea5e9;
      }

      .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        backdrop-filter: blur(5px);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 1000;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
      }
      .modal-overlay.visible {
        opacity: 1;
        pointer-events: auto;
      }
      .modal-content {
        background-color: #1f2937;
        padding: 2rem;
        border-radius: 0.75rem;
        width: 90%;
        max-width: 600px;
        max-height: 80vh;
        overflow-y: auto;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        transform: scale(0.95);
        transition: transform 0.3s ease;
      }
      .modal-overlay.visible .modal-content {
        transform: scale(1);
      }
      .modal-title {
        font-size: 1.5rem;
        font-weight: 700;
        color: #38bdf8;
        margin-bottom: 1rem;
      }
      .modal-body {
        font-size: 0.95rem;
        line-height: 1.7;
        color: #d1d5db;
      }
      .modal-body h4 {
        font-weight: 600;
        color: #a78bfa;
        margin-top: 1rem;
        margin-bottom: 0.5rem;
      }
      .modal-body ul {
        list-style: disc;
        padding-left: 1.5rem;
        margin-bottom: 1rem;
      }
      .modal-body p {
        margin-bottom: 0.75rem;
      }
      .modal-close-btn {
        position: absolute;
        top: 1rem;
        right: 1rem;
        background: none;
        border: none;
        font-size: 1.5rem;
        color: #9ca3af;
        cursor: pointer;
        transition: color 0.2s ease;
      }
      .modal-close-btn:hover {
        color: #e5e7eb;
      }

      .loader {
        border: 4px solid #4b5563;
        border-top: 4px solid #38bdf8;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        animation: spin 1s linear infinite;
        margin: 2rem auto;
      }
      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .contact-form-wrapper {
        position: relative;
        border: 2px solid transparent;
        background-clip: padding-box;
        border-radius: 0.875rem;
        padding: 2px;
        animation: rotate-gradient 5s linear infinite;
        background-image: conic-gradient(
          from var(--gradient-angle),
          #38bdf8,
          #a78bfa,
          #ec4899,
          #a78bfa,
          #38bdf8
        );
      }
      @keyframes rotate-gradient {
        0% {
          --gradient-angle: 0deg;
        }
        100% {
          --gradient-angle: 360deg;
        }
      }
      .contact-form-inner {
        border-radius: 0.75rem;
      }
      .message-transmission-animation {
        display: none;
        height: 150px;
        position: relative;
        overflow: hidden;
        border-radius: 0.5rem;
        background: rgba(31, 41, 55, 0.5);
        margin-top: 1rem;
      }
      .transmission-bar {
        position: absolute;
        bottom: 0;
        width: 5px;
        background-color: #38bdf8;
        animation: transmit-bar-anim 0.5s infinite alternate ease-in-out;
      }
      @keyframes transmit-bar-anim {
        from {
          height: 10%;
          opacity: 0.7;
        }
        to {
          height: 90%;
          opacity: 1;
        }
      }
      .transmission-pulse {
        position: absolute;
        left: 50%;
        top: 50%;
        width: 10px;
        height: 10px;
        background-color: #a78bfa;
        border-radius: 50%;
        transform: translate(-50%, -50%) scale(0);
        animation: transmit-pulse-anim 1.5s infinite ease-out;
      }
      @keyframes transmit-pulse-anim {
        0% {
          transform: translate(-50%, -50%) scale(0);
          opacity: 1;
        }
        50% {
          transform: translate(-50%, -50%) scale(10);
          opacity: 0.5;
        }
        100% {
          transform: translate(-50%, -50%) scale(15);
          opacity: 0;
        }
      }
      .social-icon-link {
        position: relative;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }
      .social-icon-link:hover {
        transform: translateY(-5px) scale(1.1);
      }
      .social-icon-link svg {
        transition: filter 0.3s ease;
      }
      .social-icon-link:hover svg {
        filter: drop-shadow(0 0 8px currentColor);
      }
      .social-icon-link[data-platform="github"]:hover svg {
        color: #e5e7eb;
        filter: drop-shadow(0 0 8px #e5e7eb);
      }
      .social-icon-link[data-platform="linkedin"]:hover svg {
        color: #0a66c2;
        filter: drop-shadow(0 0 8px #0a66c2);
      }
      .social-icon-link[data-platform="twitter"]:hover svg {
        color: #1da1f2;
        filter: drop-shadow(0 0 8px #1da1f2);
      }
      .social-icon-link[data-platform="mail"]:hover svg {
        color: #ec4899;
        filter: drop-shadow(0 0 8px #ec4899);
      }

      ::-webkit-scrollbar {
        width: 10px;
      }
      ::-webkit-scrollbar-track {
        background: #111827;
      }
      ::-webkit-scrollbar-thumb {
        background: #38bdf8;
        border-radius: 5px;
        border: 2px solid #111827;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: #0ea5e9;
      }

      #hero-avatar-container {
        width: 180px;
        height: 180px;
        margin: 0 auto 2rem auto;
        border-radius: 50%;
        cursor: grab;
      }
    </style>
  </head>
  <body class="antialiased">
    <div class="custom-cursor">
      <div class="cursor-dot"></div>
      <div class="cursor-outline"></div>
    </div>

    <div id="particles-js"></div>

    <header class="fixed top-0 left-0 right-0 z-50 glassmorphism shadow-lg">
      <nav
        class="container mx-auto px-6 py-4 flex justify-between items-center"
      >
        <a
          href="#hero"
          class="text-2xl font-bold text-white hover:text-cyan-400 transition duration-300"
        >
          JD<span class="text-cyan-400">.</span>
        </a>
        <div class="space-x-3 md:space-x-4">
          <a href="#hero" class="nav-link text-gray-300 active">Home</a>
          <a href="#experience" class="nav-link text-gray-300">Experience</a>
          <a href="#projects" class="nav-link text-gray-300">Projects</a>
          <a href="#skills" class="nav-link text-gray-300">Flappy Skills</a>
          <a href="#roles" class="nav-link text-gray-300">Roles</a>
          <a href="#contact" class="nav-link text-gray-300">Contact</a>
        </div>
      </nav>
    </header>

    <section
      id="hero"
      class="min-h-screen flex items-center justify-center pt-20 relative overflow-hidden"
    >
      <div class="container mx-auto px-6 text-center">
        <div id="hero-avatar-container"></div>
        <h1 class="text-5xl md:text-7xl font-extrabold mb-4 hero-title">
          Hi, I'm <span class="text-cyan-400">John Doe</span>
        </h1>
        <p
          class="text-xl md:text-2xl text-gray-300 mb-8 max-w-3xl mx-auto hero-subtitle"
        >
          A passionate
          <span class="font-semibold text-purple-400"
            >Full-Stack Developer</span
          >
          &
          <span class="font-semibold text-purple-400"
            >Creative Technologist</span
          >
          transforming ideas into innovative web solutions.
        </p>
        <a
          href="#projects"
          class="bg-cyan-500 hover:bg-cyan-600 text-white font-semibold py-3 px-8 rounded-lg text-lg transition duration-300 inline-block accent-glow hero-cta"
        >
          View My Work
        </a>
      </div>
    </section>

    <section id="experience" class="py-20 bg-gray-900/70 section-content">
      <div class="container mx-auto px-6">
        <h2 class="section-title">Career Log</h2>
        <div
          id="experience-output"
          class="experience-terminal max-w-4xl mx-auto"
        >
          <span class="typing-cursor"></span>
        </div>
      </div>
    </section>

    <section id="projects" class="py-20 section-content">
      <div class="container mx-auto px-6">
        <h2 class="section-title">Featured Projects</h2>
        <div
          class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 project-grid"
        >
          <div
            class="project-card glassmorphism rounded-xl overflow-hidden shadow-2xl p-6"
          >
            <img
              src="https://placehold.co/600x400/1f2937/FFFFFF?text=Project+Alpha&font=inter"
              alt="Project Alpha"
              class="w-full h-48 object-cover rounded-md mb-4"
            />
            <h3 class="text-2xl font-bold text-cyan-400 mb-2">Project Alpha</h3>
            <p class="text-gray-300 text-sm mb-3">
              A comprehensive e-commerce platform with advanced analytics and
              user management features.
            </p>
            <div class="mb-3">
              <span
                class="inline-block bg-purple-600/50 text-purple-300 text-xs px-2 py-1 rounded-full mr-1 mb-1"
                >React</span
              >
              <span
                class="inline-block bg-purple-600/50 text-purple-300 text-xs px-2 py-1 rounded-full mr-1 mb-1"
                >Node.js</span
              >
              <span
                class="inline-block bg-purple-600/50 text-purple-300 text-xs px-2 py-1 rounded-full mr-1 mb-1"
                >MongoDB</span
              >
            </div>
            <div class="flex space-x-3">
              <a
                href="#"
                target="_blank"
                class="text-cyan-400 hover:text-cyan-300 transition duration-300 flex items-center"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-github mr-1"
                >
                  <path
                    d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"
                  />
                </svg>
                GitHub
              </a>
              <a
                href="#"
                target="_blank"
                class="text-cyan-400 hover:text-cyan-300 transition duration-300 flex items-center"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-external-link mr-1"
                >
                  <path d="M15 3h6v6" />
                  <path d="M10 14 21 3" />
                  <path
                    d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6"
                  />
                </svg>
                Live Demo
              </a>
            </div>
          </div>
          <div
            class="project-card glassmorphism rounded-xl overflow-hidden shadow-2xl p-6"
          >
            <img
              src="https://placehold.co/600x400/1f2937/FFFFFF?text=Project+Beta&font=inter"
              alt="Project Beta"
              class="w-full h-48 object-cover rounded-md mb-4"
            />
            <h3 class="text-2xl font-bold text-cyan-400 mb-2">Project Beta</h3>
            <p class="text-gray-300 text-sm mb-3">
              A real-time collaborative whiteboard application using WebSockets
              and Svelte.
            </p>
            <div class="mb-3">
              <span
                class="inline-block bg-purple-600/50 text-purple-300 text-xs px-2 py-1 rounded-full mr-1 mb-1"
                >Svelte</span
              >
              <span
                class="inline-block bg-purple-600/50 text-purple-300 text-xs px-2 py-1 rounded-full mr-1 mb-1"
                >FastAPI</span
              >
              <span
                class="inline-block bg-purple-600/50 text-purple-300 text-xs px-2 py-1 rounded-full mr-1 mb-1"
                >WebSockets</span
              >
            </div>
            <div class="flex space-x-3">
              <a
                href="#"
                target="_blank"
                class="text-cyan-400 hover:text-cyan-300 transition duration-300 flex items-center"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-github mr-1"
                >
                  <path
                    d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"
                  />
                </svg>
                GitHub
              </a>
              <a
                href="#"
                target="_blank"
                class="text-cyan-400 hover:text-cyan-300 transition duration-300 flex items-center"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-external-link mr-1"
                >
                  <path d="M15 3h6v6" />
                  <path d="M10 14 21 3" />
                  <path
                    d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6"
                  />
                </svg>
                Live Demo
              </a>
            </div>
          </div>
          <div
            class="project-card glassmorphism rounded-xl overflow-hidden shadow-2xl p-6"
          >
            <img
              src="https://placehold.co/600x400/1f2937/FFFFFF?text=Project+Gamma&font=inter"
              alt="Project Gamma"
              class="w-full h-48 object-cover rounded-md mb-4"
            />
            <h3 class="text-2xl font-bold text-cyan-400 mb-2">Project Gamma</h3>
            <p class="text-gray-300 text-sm mb-3">
              A mobile-first progressive web app for task management and
              productivity.
            </p>
            <div class="mb-3">
              <span
                class="inline-block bg-purple-600/50 text-purple-300 text-xs px-2 py-1 rounded-full mr-1 mb-1"
                >Vue.js</span
              >
              <span
                class="inline-block bg-purple-600/50 text-purple-300 text-xs px-2 py-1 rounded-full mr-1 mb-1"
                >Firebase</span
              >
              <span
                class="inline-block bg-purple-600/50 text-purple-300 text-xs px-2 py-1 rounded-full mr-1 mb-1"
                >PWA</span
              >
            </div>
            <div class="flex space-x-3">
              <a
                href="#"
                target="_blank"
                class="text-cyan-400 hover:text-cyan-300 transition duration-300 flex items-center"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-github mr-1"
                >
                  <path
                    d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"
                  />
                </svg>
                GitHub
              </a>
              <a
                href="#"
                target="_blank"
                class="text-cyan-400 hover:text-cyan-300 transition duration-300 flex items-center"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="20"
                  height="20"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-external-link mr-1"
                >
                  <path d="M15 3h6v6" />
                  <path d="M10 14 21 3" />
                  <path
                    d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h6"
                  />
                </svg>
                Live Demo
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="skills" class="py-20 bg-gray-900/70 section-content">
      <div class="container mx-auto px-6">
        <h2 class="section-title">Flappy Skills Challenge</h2>
        <p class="text-center text-lg text-gray-400 mb-6 max-w-2xl mx-auto">
          Navigate your cyber-ship through the data towers of my skills! How
          high can you score?
        </p>
        <div id="flappySkillsContainer">
          <canvas id="flappySkillsCanvas"></canvas>
        </div>
        <div class="flappy-game-instructions">
          <p>Controls: <kbd>SPACE</kbd> or <kbd>TAP</kbd> to Ascend</p>
        </div>
      </div>
    </section>

    <section id="roles" class="py-20 section-content">
      <div class="container mx-auto px-6">
        <h2 class="section-title">Future Trajectories</h2>
        <p class="text-center text-lg text-gray-400 mb-10 max-w-2xl mx-auto">
          I'm actively exploring opportunities where I can leverage my skills in
          dynamic and impactful ways. My primary interests lie in the following
          domains:
        </p>
        <div id="roles-canvas-container">
          <canvas id="roles-canvas"></canvas>
          <div id="role-tooltip" class="role-tooltip"></div>
        </div>
      </div>
    </section>

    <section id="contact" class="py-20 section-content">
      <div class="container mx-auto px-6">
        <h2 class="section-title">Connect & Collaborate</h2>
        <div class="contact-form-wrapper max-w-2xl mx-auto shadow-2xl">
          <div
            class="contact-form-inner glassmorphism p-8 md:p-12 contact-form-container"
          >
            <p class="text-center text-lg text-gray-300 mb-8">
              Have a project, an idea, or just want to say hi? Let's connect!
            </p>
            <form id="contactForm" action="#" method="POST" class="space-y-6">
              <div class="form-fields">
                <div>
                  <label
                    for="name"
                    class="block text-sm font-medium text-cyan-400"
                    >Full Name</label
                  >
                  <input
                    type="text"
                    name="name"
                    id="name"
                    autocomplete="name"
                    class="mt-1 block w-full bg-gray-700/50 border-gray-600 rounded-md shadow-sm py-2 px-3 text-gray-200 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm placeholder-gray-500"
                  />
                </div>
                <div>
                  <label
                    for="email"
                    class="block text-sm font-medium text-cyan-400"
                    >Email Address</label
                  >
                  <input
                    type="email"
                    name="email"
                    id="email"
                    autocomplete="email"
                    class="mt-1 block w-full bg-gray-700/50 border-gray-600 rounded-md shadow-sm py-2 px-3 text-gray-200 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm placeholder-gray-500"
                  />
                </div>
                <div>
                  <label
                    for="message"
                    class="block text-sm font-medium text-cyan-400"
                    >Message</label
                  >
                  <textarea
                    id="message"
                    name="message"
                    rows="4"
                    class="mt-1 block w-full bg-gray-700/50 border-gray-600 rounded-md shadow-sm py-2 px-3 text-gray-200 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 sm:text-sm placeholder-gray-500"
                  ></textarea>
                </div>
                <div class="flex flex-col sm:flex-row items-center gap-4">
                  <button
                    type="submit"
                    class="w-full sm:w-auto flex-grow justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-cyan-500 hover:bg-cyan-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-cyan-500 transition duration-300 accent-glow"
                  >
                    Send Message
                  </button>
                  <button
                    type="button"
                    id="enhanceMessageBtn"
                    class="w-full sm:w-auto justify-center py-3 px-4 border border-purple-500 rounded-lg shadow-sm text-base font-medium text-purple-300 hover:bg-purple-500 hover:text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-900 focus:ring-purple-500 transition duration-300"
                  >
                    ✨ Enhance with AI
                  </button>
                </div>
              </div>
              <div
                id="messageTransmissionAnimation"
                class="message-transmission-animation"
              >
                <div class="transmission-pulse"></div>
              </div>
              <div
                id="contactFormStatus"
                class="mt-4 text-sm text-center h-8"
              ></div>
            </form>
            <div class="mt-10 text-center">
              <p class="text-gray-400 mb-4">Or find me on:</p>
              <div class="flex justify-center space-x-6">
                <a
                  href="#"
                  target="_blank"
                  class="social-icon-link text-gray-400"
                  data-platform="github"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="28"
                    height="28"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path
                      d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"
                    /></svg
                ></a>
                <a
                  href="#"
                  target="_blank"
                  class="social-icon-link text-gray-400"
                  data-platform="linkedin"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="28"
                    height="28"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path
                      d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"
                    />
                    <rect width="4" height="12" x="2" y="9" />
                    <circle cx="4" cy="4" r="2" /></svg
                ></a>
                <a
                  href="#"
                  target="_blank"
                  class="social-icon-link text-gray-400"
                  data-platform="twitter"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="28"
                    height="28"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <path
                      d="M22 4s-.7 2.1-2 3.4c1.6 1.4 3.3 4.4 3.3 4.4s-1.4-.6-2.8-.9c-1.2 2.2-2.8 4.3-4.6 5.9s-3.5 2.6-5 2.5c-2-.1-3.9-1.2-5.3-2.8s-2.7-3.7-2.5-5.5c.2-1.7 1.5-3.1 3.1-4.1.8-.5 1.7-.8 2.6-.9s1.8.1 2.6.4c.9.2 1.7.6 2.5.9s1.5.6 2.1.7c.6.1 1.1-.2 1.5-.5.4-.3.6-.8.5-1.3z"
                    /></svg
                ></a>
                <a
                  href="mailto:john.doe@example.com"
                  class="social-icon-link text-gray-400"
                  data-platform="mail"
                  ><svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="28"
                    height="28"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  >
                    <rect width="20" height="16" x="2" y="4" rx="2" />
                    <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7" /></svg
                ></a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div id="aiInsightModal" class="modal-overlay">
      <div class="modal-content">
        <button id="modalCloseBtn" class="modal-close-btn">&times;</button>
        <h3 id="modalTitle" class="modal-title">AI Career Insights</h3>
        <div id="modalBody" class="modal-body">
          <div class="loader"></div>
        </div>
      </div>
    </div>

    <footer class="py-8 text-center bg-gray-950/80">
      <p class="text-gray-500">
        &copy; <span id="currentYear"></span> John Doe. All rights reserved.
      </p>
      <p class="text-gray-600 text-sm">
        Crafted with <span class="text-red-500">&hearts;</span> and modern tech.
      </p>
    </footer>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        gsap.registerPlugin(ScrollTrigger, TextPlugin);
        document.getElementById("currentYear").textContent =
          new Date().getFullYear();

        const cursorDot = document.querySelector(".cursor-dot");
        const cursorOutline = document.querySelector(".cursor-outline");
        window.addEventListener("mousemove", function (e) {
          gsap.to(cursorDot, { duration: 0.1, x: e.clientX, y: e.clientY });
          gsap.to(cursorOutline, { duration: 0.2, x: e.clientX, y: e.clientY });
        });

        const avatarContainer = document.getElementById(
          "hero-avatar-container"
        );
        if (avatarContainer && typeof THREE !== "undefined") {
          const scene = new THREE.Scene();
          const camera = new THREE.PerspectiveCamera(
            75,
            avatarContainer.clientWidth / avatarContainer.clientHeight,
            0.1,
            1000
          );
          const renderer = new THREE.WebGLRenderer({
            alpha: true,
            antialias: true,
          });
          renderer.setSize(
            avatarContainer.clientWidth,
            avatarContainer.clientHeight
          );
          avatarContainer.appendChild(renderer.domElement);
          const geometry = new THREE.IcosahedronGeometry(1, 0);
          const material = new THREE.MeshStandardMaterial({
            color: 0x38bdf8,
            metalness: 0.6,
            roughness: 0.3,
            flatShading: true,
          });
          const icosahedron = new THREE.Mesh(geometry, material);
          scene.add(icosahedron);
          const ambientLight = new THREE.AmbientLight(0xffffff, 0.6);
          scene.add(ambientLight);
          const pLight1 = new THREE.PointLight(0xffffff, 0.9, 100);
          pLight1.position.set(2, 3, 2);
          scene.add(pLight1);
          const pLight2 = new THREE.PointLight(0xa78bfa, 0.7, 100);
          pLight2.position.set(-2, -2, -2);
          scene.add(pLight2);
          camera.position.z = 2.5;
          let mouseX = 0,
            mouseY = 0,
            targetRotX = 0,
            targetRotY = 0;
          avatarContainer.addEventListener("mousemove", (e) => {
            const rect = avatarContainer.getBoundingClientRect();
            mouseX = ((e.clientX - rect.left) / rect.width) * 2 - 1;
            mouseY = -((e.clientY - rect.top) / rect.height) * 2 + 1;
            targetRotY = mouseX * 0.4;
            targetRotX = mouseY * 0.4;
          });
          avatarContainer.addEventListener("mouseleave", () => {
            targetRotX = 0;
            targetRotY = 0;
          });
          function animateAvatar() {
            requestAnimationFrame(animateAvatar);
            icosahedron.rotation.x +=
              (targetRotX - icosahedron.rotation.x) * 0.05 + 0.0015;
            icosahedron.rotation.y +=
              (targetRotY - icosahedron.rotation.y) * 0.05 + 0.0025;
            renderer.render(scene, camera);
          }
          animateAvatar();
          window.addEventListener("resize", () => {
            if (
              avatarContainer.clientWidth > 0 &&
              avatarContainer.clientHeight > 0
            ) {
              camera.aspect =
                avatarContainer.clientWidth / avatarContainer.clientHeight;
              camera.updateProjectionMatrix();
              renderer.setSize(
                avatarContainer.clientWidth,
                avatarContainer.clientHeight
              );
            }
          });
        }

        if (document.getElementById("particles-js")) {
          particlesJS("particles-js", {
            particles: {
              number: {
                value: 40,
                density: { enable: true, value_area: 1000 },
              },
              color: { value: "#22d3ee" },
              shape: { type: "circle" },
              opacity: {
                value: 0.25,
                random: true,
                anim: {
                  enable: true,
                  speed: 0.4,
                  opacity_min: 0.05,
                  sync: false,
                },
              },
              size: { value: 2.8, random: true },
              line_linked: {
                enable: true,
                distance: 140,
                color: "#475569",
                opacity: 0.18,
                width: 1,
              },
              move: {
                enable: true,
                speed: 1.2,
                direction: "none",
                random: true,
                straight: false,
                out_mode: "out",
              },
            },
            interactivity: {
              detect_on: "canvas",
              events: {
                onhover: { enable: true, mode: "grab" },
                onclick: { enable: false },
              },
              modes: {
                grab: { distance: 130, line_linked: { opacity: 0.35 } },
              },
            },
            retina_detect: true,
          });
        }

        gsap.from(".hero-title", {
          duration: 1,
          y: 50,
          opacity: 0,
          ease: "power3.out",
          delay: 0.5,
        });
        gsap.from(".hero-subtitle", {
          duration: 1,
          y: 50,
          opacity: 0,
          ease: "power3.out",
          delay: 0.8,
        });
        gsap.from(".hero-cta", {
          duration: 1,
          y: 50,
          opacity: 0,
          ease: "power3.out",
          delay: 1.1,
        });
        gsap.from("#hero-avatar-container", {
          duration: 1.2,
          scale: 0.5,
          opacity: 0,
          ease: "elastic.out(1, 0.5)",
          delay: 0.3,
        });

        gsap.utils.toArray(".section-content").forEach((section) => {
          const tl = gsap.timeline({
            scrollTrigger: {
              trigger: section,
              start: "top 85%",
              end: "bottom 20%",
              toggleActions: "play none none none",
            },
          });
          tl.from(section.querySelectorAll(".section-title"), {
            opacity: 0,
            y: 40,
            duration: 0.6,
            ease: "power2.out",
          }).from(
            section.querySelectorAll(
              ".project-card, .contact-form-wrapper, #roles-canvas-container p, #flappySkillsContainer, .flappy-game-instructions"
            ),
            {
              opacity: 0,
              y: 50,
              duration: 0.7,
              ease: "power3.out",
              stagger: 0.15,
            },
            "-=0.3"
          );
        });

        const experienceDataArr = [
          {
            role: "Senior Developer",
            company: "Innovatech Solutions",
            date: "Jan 2022 - Present",
            responsibilities: [
              "Led development of cutting-edge web applications using React and Node.js.",
              "Mentored junior developers and conducted code reviews.",
              "Collaborated with product teams to define and implement new features.",
              "Architected scalable backend systems and optimized database performance.",
            ],
          },
          {
            role: "Mid-Level Developer",
            company: "TechForward Inc.",
            date: "Jun 2019 - Dec 2021",
            responsibilities: [
              "Developed and maintained client-facing applications with Angular and Spring Boot.",
              "Participated in agile development cycles and sprint planning.",
              "Contributed to database design and API development.",
              "Implemented new UI features based on Figma designs and user feedback.",
            ],
          },
          {
            role: "Junior Developer",
            company: "CodeGenius Co.",
            date: "Jul 2017 - May 2019",
            responsibilities: [
              "Assisted in the development of web portals using Vue.js and Python/Django.",
              "Wrote unit tests and performed bug fixing.",
              "Gained experience in version control with Git and CI/CD pipelines.",
              "Supported senior developers in various project tasks.",
            ],
          },
        ];
        const experienceOutput = document.getElementById("experience-output");
        function typeExperience() {
          let masterTl = gsap.timeline();
          let currentContent = `<span class="prompt">user@portfolio:~$</span> cat /var/log/career.log<br><br>`;
          experienceOutput.innerHTML = currentContent;
          experienceDataArr.forEach((exp, index) => {
            currentContent += `<span class="comment">// Entry ${index + 1}: ${
              exp.company
            }</span><br>`;
            currentContent += `<span class="info-line">Role: <span class="role-title">${exp.role}</span></span><br>`;
            currentContent += `<span class="info-line">Company: <span class="company-date">${exp.company}</span></span><br>`;
            currentContent += `<span class="info-line">Tenure: <span class="company-date">${exp.date}</span></span><br>`;
            currentContent += `<span class="info-line">Responsibilities:</span><br>`;
            masterTl.set(experienceOutput, {
              innerHTML: currentContent + '<span class="typing-cursor"></span>',
            });
            exp.responsibilities.forEach((resp) => {
              const respLine = `<span class="responsibility">${resp}</span><br>`;
              masterTl.to(
                {},
                {
                  duration: 0.03 + Math.random() * 0.05,
                  onComplete: () => {
                    currentContent += respLine;
                    experienceOutput.innerHTML =
                      currentContent + '<span class="typing-cursor"></span>';
                    experienceOutput.scrollTop = experienceOutput.scrollHeight;
                  },
                }
              );
            });
            currentContent += "<br>";
            masterTl.set(
              experienceOutput,
              {
                innerHTML:
                  currentContent + '<span class="typing-cursor"></span>',
              },
              "+=0.15"
            );
          });
          masterTl.call(() => {
            experienceOutput.innerHTML = currentContent.replace(
              '<span class="typing-cursor"></span>',
              ""
            );
          });
        }
        ScrollTrigger.create({
          trigger: "#experience",
          start: "top 70%",
          onEnter: () => {
            if (!experienceOutput.dataset.animated) {
              typeExperience();
              experienceOutput.dataset.animated = "true";
            }
          },
          once: true,
        });

        const skillsDataSource = [
          {
            category: "Frontend Development",
            skills: [
              "HTML5 & CSS3 (Sass/LESS)",
              "JavaScript (ES6+ & TypeScript)",
              "React, Next.js, Redux/Zustand",
              "Vue.js, Nuxt.js, Vuex/Pinia",
              "Svelte & SvelteKit",
              "Angular",
              "Tailwind CSS, Bootstrap",
              "Responsive Design, Web Accessibility",
            ],
          },
          {
            category: "Backend Development",
            skills: [
              "Node.js & Express.js",
              "Python (Django, Flask, FastAPI)",
              "Java (Spring Boot)",
              "Ruby on Rails",
              "PHP (Laravel)",
              "RESTful APIs & GraphQL",
              "Microservices Architecture",
            ],
          },
          {
            category: "Databases & Cloud",
            skills: [
              "MongoDB, PostgreSQL, MySQL",
              "Firebase (Firestore, Realtime DB)",
              "Redis, Elasticsearch",
              "AWS (EC2, S3, Lambda, RDS)",
              "Google Cloud Platform (GCP)",
              "Docker & Kubernetes",
              "Serverless Architectures",
            ],
          },
          {
            category: "SDET & QA Automation",
            skills: [
              "Selenium WebDriver, Cypress, Playwright",
              "Appium (Mobile Automation)",
              "JUnit, TestNG, PyTest, Jest",
              "RestAssured, Postman (API Testing)",
              "JMeter, K6 (Performance Testing)",
              "BDD (Cucumber, Gherkin)",
              "Test Management (JIRA, TestRail)",
              "CI/CD for Testing (Jenkins, GitLab CI)",
            ],
          },
          {
            category: "DevOps, Tools & Methodologies",
            skills: [
              "Git & GitHub/GitLab",
              "Jenkins, GitLab CI, GitHub Actions",
              "Terraform, Ansible",
              "Agile, Scrum, Kanban",
              "Figma, Sketch, Adobe XD",
              "System Design Principles",
            ],
          },
        ];
        const allSkillsForFlappyGame = skillsDataSource.flatMap(
          (cat) => cat.skills
        );

        // Flappy Skills Game Logic - Cyberpunk Edition
        const flappySkillsContainer = document.getElementById(
          "flappySkillsContainer"
        );
        const flappySkillsCanvas =
          document.getElementById("flappySkillsCanvas");
        let flappyGameInstance = null;

        function initFlappySkillsGame() {
          if (
            !flappySkillsContainer ||
            !flappySkillsCanvas ||
            flappyGameInstance
          )
            return;

          const ctx = flappySkillsCanvas.getContext("2d");
          const W = flappySkillsContainer.clientWidth;
          const H = flappySkillsContainer.clientHeight;
          flappySkillsCanvas.width = W;
          flappySkillsCanvas.height = H;

          let player, pipes, score, gameState, frames, backgroundLayers;
          const playerProps = {
            x: W / 5,
            y: H / 2,
            width: 40,
            height: 20,
            gravity: 0.35,
            lift: -7.5,
            velocity: 0,
            angle: 0,
          };
          const pipeProps = {
            width: W / 7,
            gap: H / 4,
            speed: 2.5,
            interval: 150,
          };

          // Cyberpunk Player (Futuristic Vehicle) Path
          const vehiclePath = new Path2D();
          vehiclePath.moveTo(0, 5); // Nose
          vehiclePath.lineTo(25, 0); // Top front
          vehiclePath.lineTo(35, 5); // Top mid
          vehiclePath.lineTo(40, 10); // Top rear / Spoiler start
          vehiclePath.lineTo(35, 15); // Bottom rear / Spoiler end
          vehiclePath.lineTo(25, 20); // Bottom mid
          vehiclePath.lineTo(0, 15); // Bottom front
          vehiclePath.closePath();

          function createBackgroundLayers() {
            backgroundLayers = [
              { speed: 0.2, yOffset: 0, color: "#080f2b", stars: [] }, // Deep space with faint stars
              { speed: 0.4, yOffset: H * 0.6, color: "#101c42", buildings: [] }, // Distant, dark city silhouettes
              { speed: 0.7, yOffset: H * 0.7, color: "#1a2b5e", buildings: [] }, // Closer, slightly more detailed silhouettes
            ];
            // Populate stars
            for (let i = 0; i < 50; i++) {
              backgroundLayers[0].stars.push({
                x: Math.random() * W,
                y: Math.random() * H * 0.7, // Only in upper part
                radius: Math.random() * 1.5,
              });
            }
            // Populate initial buildings for parallax layers
            for (let layer of [backgroundLayers[1], backgroundLayers[2]]) {
              for (let i = 0; i < W / 50; i++) {
                // Number of buildings based on width
                layer.buildings.push({
                  x: Math.random() * W * 1.5, // Allow some to start off-screen
                  height: H * 0.2 + Math.random() * H * 0.3, // Varying heights
                  width: 30 + Math.random() * 40,
                });
              }
            }
          }

          function drawBackground() {
            // Base gradient
            const bgGrad = ctx.createLinearGradient(0, 0, 0, H);
            bgGrad.addColorStop(0, "#030712"); // Very dark blue/black
            bgGrad.addColorStop(0.6, "#080f2b");
            bgGrad.addColorStop(1, "#101c42");
            ctx.fillStyle = bgGrad;
            ctx.fillRect(0, 0, W, H);

            // Draw layers
            backgroundLayers.forEach((layer) => {
              // Stars
              if (layer.stars) {
                ctx.fillStyle = "rgba(200, 200, 255, 0.5)";
                layer.stars.forEach((star) => {
                  ctx.beginPath();
                  ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
                  ctx.fill();
                  star.x -= layer.speed * 0.5; // Slower star scroll
                  if (star.x < -star.radius) star.x = W + star.radius;
                });
              }
              // Buildings
              if (layer.buildings) {
                ctx.fillStyle = layer.color;
                layer.buildings.forEach((b) => {
                  ctx.fillRect(
                    b.x - ((frames * layer.speed) % (W + b.width * 2)),
                    H - b.height,
                    b.width,
                    b.height
                  );
                  // Add some neon window lights if it's a closer layer
                  if (layer.speed > 0.5) {
                    ctx.fillStyle = Math.random() > 0.7 ? "#ec4899" : "#38bdf8"; // Pink or Cyan
                    for (let wy = H - b.height + 10; wy < H - 10; wy += 15) {
                      for (
                        let wx =
                          b.x -
                          ((frames * layer.speed) % (W + b.width * 2)) +
                          5;
                        wx <
                        b.x -
                          ((frames * layer.speed) % (W + b.width * 2)) +
                          b.width -
                          5;
                        wx += 15
                      ) {
                        if (Math.random() > 0.6) ctx.fillRect(wx, wy, 3, 5);
                      }
                    }
                  }
                });
              }
            });
          }

          function resetGame() {
            player = { ...playerProps };
            pipes = [];
            score = 0;
            frames = 0;
            gameState = "start";
            createBackgroundLayers();
          }
          resetGame();

          function drawPlayer() {
            ctx.save();
            ctx.translate(player.x, player.y);
            player.angle = player.velocity / 20; // Max tilt based on velocity
            ctx.rotate(player.angle);

            const pulse = Math.abs(Math.sin(frames * 0.2)) * 5 + 2;
            ctx.shadowColor = "#ec4899"; // Neon Pink glow
            ctx.shadowBlur = 10 + pulse;

            ctx.fillStyle = "#38bdf8"; // Cyan vehicle
            // Scale the path to fit player.width and player.height (approx)
            const scaleX = player.width / 40; // Original path width is 40
            const scaleY = player.height / 20; // Original path height is 20
            ctx.scale(scaleX, scaleY);
            ctx.translate(
              -player.width / (2 * scaleX),
              -player.height / (2 * scaleY)
            ); // Center the path
            ctx.fill(vehiclePath);

            // Thruster effect
            if (player.velocity < -1 || gameState === "start") {
              // Show thruster when lifting or at start
              ctx.fillStyle = Math.random() > 0.5 ? "#fde047" : "#f59e0b"; // Yellow/Amber
              ctx.beginPath();
              ctx.moveTo(-5 / scaleX, 10 / scaleY); // Relative to vehicle path origin
              ctx.lineTo(
                -15 / scaleX - (Math.random() * 5) / scaleX,
                5 / scaleY + (Math.random() * 10) / scaleY - 5 / scaleY
              );
              ctx.lineTo(-5 / scaleX, 10 / scaleY);
              ctx.fill();
            }
            ctx.restore();
          }

          function drawPipes() {
            // Cyberpunk Buildings
            pipes.forEach((pipe) => {
              const gradTop = ctx.createLinearGradient(
                pipe.x,
                0,
                pipe.x + pipe.width,
                0
              );
              gradTop.addColorStop(0, "#4f46e5"); // Indigo
              gradTop.addColorStop(0.5, "#7c3aed"); // Purple
              gradTop.addColorStop(1, "#db2777"); // Fuchsia

              const gradBottom = ctx.createLinearGradient(
                pipe.x,
                0,
                pipe.x + pipe.width,
                0
              );
              gradBottom.addColorStop(0, "#db2777");
              gradBottom.addColorStop(0.5, "#7c3aed");
              gradBottom.addColorStop(1, "#4f46e5");

              ctx.fillStyle = gradTop;
              ctx.fillRect(pipe.x, 0, pipe.width, pipe.topHeight);
              ctx.fillStyle = gradBottom;
              ctx.fillRect(
                pipe.x,
                pipe.topHeight + pipe.gap,
                pipe.width,
                H - (pipe.topHeight + pipe.gap)
              );

              // Neon edges
              ctx.strokeStyle = "#ec4899"; // Pink neon
              ctx.lineWidth = 2;
              ctx.strokeRect(pipe.x, 0, pipe.width, pipe.topHeight);
              ctx.strokeRect(
                pipe.x,
                pipe.topHeight + pipe.gap,
                pipe.width,
                H - (pipe.topHeight + pipe.gap)
              );

              // Skill text
              ctx.fillStyle = "#f0fdf4"; // Light green/white text
              ctx.font = `bold ${Math.min(15, pipe.width / 6)}px 'Fira Code'`;
              ctx.textAlign = "center";
              ctx.textBaseline = "middle";
              ctx.shadowColor = "#6ee7b7";
              ctx.shadowBlur = 5;

              const textY = pipe.skillOnTop
                ? pipe.topHeight / 2
                : pipe.topHeight +
                  pipe.gap +
                  (H - (pipe.topHeight + pipe.gap)) / 2;
              ctx.fillText(pipe.skill, pipe.x + pipe.width / 2, textY);
              ctx.shadowBlur = 0; // Reset shadow
            });
          }

          function updatePlayer() {
            player.velocity += player.gravity;
            player.velocity *= 0.96;
            player.y += player.velocity;
            if (
              player.y + player.height / 2 > H ||
              player.y - player.height / 2 < 0
            )
              gameState = "gameOver";
          }

          function updatePipes() {
            if (frames % pipeProps.interval === 0) {
              const topHeight =
                Math.random() * (H - pipeProps.gap - H * 0.3) + H * 0.15;
              const randomSkillIndex = Math.floor(
                Math.random() * allSkillsForFlappyGame.length
              );
              pipes.push({
                x: W,
                width: pipeProps.width,
                topHeight: topHeight,
                gap: pipeProps.gap,
                skill: allSkillsForFlappyGame[randomSkillIndex],
                skillOnTop: Math.random() > 0.5,
                passed: false,
              });
            }
            pipes.forEach((pipe) => {
              pipe.x -= pipeProps.speed;
              const pLeft = player.x - player.width / 2,
                pRight = player.x + player.width / 2;
              const pTop = player.y - player.height / 2,
                pBottom = player.y + player.height / 2;
              const pipeRight = pipe.x + pipe.width;

              if (pRight > pipe.x && pLeft < pipeRight) {
                if (
                  pTop < pipe.topHeight ||
                  pBottom > pipe.topHeight + pipe.gap
                ) {
                  gameState = "gameOver";
                }
              }
              if (!pipe.passed && pipeRight < player.x) {
                score++;
                pipe.passed = true;
              }
            });
            pipes = pipes.filter((pipe) => pipe.x + pipe.width > 0);
          }

          function drawScore() {
            ctx.fillStyle = "#e0e0e0";
            ctx.font = "bold 28px 'Inter', sans-serif";
            ctx.textAlign = "left";
            ctx.shadowColor = "#38bdf8";
            ctx.shadowBlur = 5;
            ctx.fillText(`Score: ${score}`, 20, 40);
            ctx.shadowBlur = 0;
          }
          function drawStartScreen() {
            ctx.fillStyle = "rgba(3, 7, 18, 0.7)";
            ctx.fillRect(0, 0, W, H);
            ctx.fillStyle = "#e0e0e0";
            ctx.font = "bold 30px 'Inter', sans-serif";
            ctx.textAlign = "center";
            ctx.fillText("Cyber Flappy Skills!", W / 2, H / 2 - 40);
            ctx.font = "18px 'Inter', sans-serif";
            ctx.fillText("SPACE or TAP to Launch", W / 2, H / 2);
          }
          function drawGameOverScreen() {
            ctx.fillStyle = "rgba(3, 7, 18, 0.8)";
            ctx.fillRect(0, 0, W, H);
            ctx.fillStyle = "#ef4444";
            ctx.font = "bold 36px 'Inter', sans-serif";
            ctx.textAlign = "center";
            ctx.fillText("SYSTEM CRASH!", W / 2, H / 2 - 60);
            ctx.fillStyle = "#e0e0e0";
            ctx.font = "24px 'Inter', sans-serif";
            ctx.fillText(`Final Score: ${score}`, W / 2, H / 2 - 20);
            ctx.font = "18px 'Inter', sans-serif";
            ctx.fillText("SPACE or TAP to Reboot", W / 2, H / 2 + 20);
          }

          function gameLoop() {
            ctx.clearRect(0, 0, W, H);
            drawBackground();

            if (gameState === "playing") {
              updatePlayer();
              updatePipes();
              drawPipes();
              drawPlayer();
              drawScore();
              frames++;
            } else if (gameState === "start") {
              drawPipes();
              drawPlayer();
              drawStartScreen();
            } else if (gameState === "gameOver") {
              drawPipes();
              drawPlayer();
              drawGameOverScreen();
            }
            flappyGameInstance = requestAnimationFrame(gameLoop);
          }
          function flap() {
            if (gameState === "playing") player.velocity = player.lift;
            else if (gameState === "start" || gameState === "gameOver") {
              resetGame();
              gameState = "playing";
            }
          }
          document.addEventListener("keydown", (e) => {
            if (e.code === "Space") flap();
          });
          flappySkillsCanvas.addEventListener("click", flap);
          flappySkillsCanvas.addEventListener(
            "touchstart",
            (e) => {
              e.preventDefault();
              flap();
            },
            { passive: false }
          );
          gameLoop();
          window.addEventListener("resize", () => {
            if (
              flappySkillsContainer.clientWidth > 0 &&
              flappySkillsContainer.clientHeight > 0
            ) {
              flappySkillsCanvas.width = flappySkillsContainer.clientWidth;
              flappySkillsCanvas.height = flappySkillsContainer.clientHeight;
              player.x = flappySkillsCanvas.width / 5; // Keep player position relative
              // pipeProps.width = flappySkillsCanvas.width / 7; // Adjust pipe width if needed
              // pipeProps.gap = flappySkillsCanvas.height / 4; // Adjust gap if needed
              createBackgroundLayers(); // Recreate background for new dimensions
            }
          });
          ScrollTrigger.create({
            trigger: "#skills",
            onEnter: () => {
              if (!flappyGameInstance && gameState !== "playing") {
                resetGame();
                gameLoop();
                gameState = "start";
              } else if (!flappyGameInstance) {
                gameLoop();
              }
            }, // Start or resume
            onLeave: () => {
              if (flappyGameInstance) {
                cancelAnimationFrame(flappyGameInstance);
                flappyGameInstance = null;
              }
            },
            onEnterBack: () => {
              if (!flappyGameInstance && gameState !== "playing") {
                resetGame();
                gameLoop();
                gameState = "start";
              } else if (!flappyGameInstance) {
                gameLoop();
              }
            },
            onLeaveBack: () => {
              if (flappyGameInstance) {
                cancelAnimationFrame(flappyGameInstance);
                flappyGameInstance = null;
              }
            },
          });
        }
        ScrollTrigger.create({
          trigger: "#skills",
          start: "top 80%",
          onEnter: initFlappySkillsGame,
          once: true,
        });

        const rolesCanvas = document.getElementById("roles-canvas");
        const rolesContainer = document.getElementById(
          "roles-canvas-container"
        );
        const tooltip = document.getElementById("role-tooltip");
        const aiInsightModal = document.getElementById("aiInsightModal");
        const modalCloseBtn = document.getElementById("modalCloseBtn");
        const modalTitle = document.getElementById("modalTitle");
        const modalBody = document.getElementById("modalBody");
        let aiInsightBtn;

        if (rolesCanvas && rolesContainer) {
          const ctx = rolesCanvas.getContext("2d");
          let width,
            height,
            nodes = [],
            lines = [],
            mouse = { x: undefined, y: undefined };
          const roleDefinitions = {
            SWE: {
              label: "Software Engineer",
              color: "#38bdf8",
              sub: [
                "Full-Stack Dev",
                "Backend Specialist",
                "Frontend Expert",
                "Cloud Native",
                "API Design",
              ],
            },
            SDET: {
              label: "SDET",
              color: "#a78bfa",
              sub: [
                "Test Automation",
                "Framework Design",
                "CI/CD Integration",
                "Performance Testing",
                "Security Testing",
              ],
            },
          };

          function initRolesCanvas() {
            rolesCanvas.width = rolesContainer.clientWidth;
            rolesCanvas.height = rolesContainer.clientHeight;
            width = rolesCanvas.width;
            height = rolesCanvas.height;
            nodes = [];
            lines = [];
            const centerX = width / 2,
              centerY = height / 2,
              mainRoleY = centerY,
              mainRoleXOffset = width / 4.5;

            Object.keys(roleDefinitions).forEach((key, index) => {
              const role = roleDefinitions[key];
              const mainNode = {
                x: centerX + (index === 0 ? -mainRoleXOffset : mainRoleXOffset),
                y: mainRoleY,
                radius: Math.min(width, height) / 11,
                baseRadius: Math.min(width, height) / 11,
                color: role.color,
                label: role.label,
                id: key,
                type: "main",
              };
              nodes.push(mainNode);
              role.sub.forEach((subLabel, subIndex) => {
                const angle =
                  (subIndex / role.sub.length) * Math.PI * 2 +
                  (index * Math.PI) / 4;
                const distance = mainNode.radius * 2.2;
                const subNode = {
                  x: mainNode.x + Math.cos(angle) * distance,
                  y: mainNode.y + Math.sin(angle) * distance,
                  radius: Math.min(width, height) / 35,
                  baseRadius: Math.min(width, height) / 35,
                  color: role.color,
                  label: subLabel,
                  id: `${key}_${subLabel.replace(/\s+/g, "")}`,
                  type: "sub",
                  parent: mainNode,
                };
                nodes.push(subNode);
                lines.push({ from: mainNode, to: subNode, color: role.color });
              });
            });
            if (!aiInsightBtn) {
              aiInsightBtn = document.createElement("button");
              aiInsightBtn.id = "dynamicAiInsightBtn";
              aiInsightBtn.className = "ai-insight-btn";
              aiInsightBtn.innerHTML = "✨ Get AI Insights";
              rolesContainer.appendChild(aiInsightBtn);
              aiInsightBtn.addEventListener("click", handleAiInsightClick);
            }
          }

          function drawNode(node) {
            ctx.beginPath();
            ctx.arc(node.x, node.y, node.radius, 0, Math.PI * 2);
            ctx.fillStyle = node.color;
            ctx.fill();
            ctx.strokeStyle = node.hover ? "#FFFFFF" : node.color;
            ctx.lineWidth = node.hover ? 3 : 1.5;
            ctx.stroke();
            ctx.fillStyle = node.type === "main" ? "#FFFFFF" : "#e0e0e0";
            ctx.font = `bold ${
              node.radius * (node.type === "main" ? 0.28 : 0.4)
            }px 'Inter'`;
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            ctx.fillText(node.label, node.x, node.y);
          }
          function drawLine(line) {
            ctx.beginPath();
            ctx.moveTo(line.from.x, line.from.y);
            ctx.lineTo(line.to.x, line.to.y);
            ctx.strokeStyle = line.hover ? "#FFFFFF" : line.color;
            ctx.lineWidth = line.hover ? 2.5 : 1;
            ctx.globalAlpha = line.hover ? 1 : 0.6;
            ctx.stroke();
            ctx.globalAlpha = 1;
          }

          let activeMainNode = null;
          function animateRoles() {
            ctx.clearRect(0, 0, width, height);
            lines.forEach(drawLine);
            nodes.forEach((node) => {
              const dist = Math.hypot(mouse.x - node.x, mouse.y - node.y);
              let isHovered = mouse.x && dist < node.radius;
              if (isHovered) {
                node.hover = true;
                gsap.to(node, {
                  radius: node.baseRadius * 1.15,
                  duration: 0.3,
                  ease: "power2.out",
                });
                lines.forEach((l) => {
                  if (
                    l.from === node ||
                    l.to === node ||
                    (node.type === "sub" &&
                      (l.from === node.parent || l.to === node.parent))
                  )
                    l.hover = true;
                });
                if (node.parent) node.parent.hover = true;
              } else if (node.hover) {
                node.hover = false;
                gsap.to(node, {
                  radius: node.baseRadius,
                  duration: 0.3,
                  ease: "power2.out",
                });
                lines.forEach((l) => (l.hover = false));
              }
              drawNode(node);
            });
            requestAnimationFrame(animateRoles);
          }

          rolesCanvas.addEventListener("mousemove", (e) => {
            const rect = rolesCanvas.getBoundingClientRect();
            mouse.x = e.clientX - rect.left;
            mouse.y = e.clientY - rect.top;
            let hoveredNode = null;
            for (let i = nodes.length - 1; i >= 0; i--) {
              const node = nodes[i];
              const dist = Math.hypot(mouse.x - node.x, mouse.y - node.y);
              if (dist < node.radius) {
                hoveredNode = node;
                break;
              }
            }
            if (hoveredNode) {
              tooltip.style.opacity = "1";
              tooltip.style.left = `${mouse.x}px`;
              tooltip.style.top = `${mouse.y}px`;
              tooltip.textContent = hoveredNode.label;
              rolesCanvas.style.cursor = "pointer";
              if (hoveredNode.type === "main" && aiInsightBtn) {
                aiInsightBtn.classList.add("visible");
                aiInsightBtn.style.left = `${hoveredNode.x}px`;
                aiInsightBtn.style.top = `${
                  hoveredNode.y + hoveredNode.radius
                }px`;
                aiInsightBtn.dataset.role = hoveredNode.id;
                activeMainNode = hoveredNode;
              }
            } else {
              tooltip.style.opacity = "0";
              rolesCanvas.style.cursor = "default";
              if (aiInsightBtn && !aiInsightBtn.matches(":hover")) {
                aiInsightBtn.classList.remove("visible");
                activeMainNode = null;
              }
            }
          });
          rolesContainer.addEventListener("mouseleave", () => {
            mouse.x = undefined;
            mouse.y = undefined;
            tooltip.style.opacity = "0";
            rolesCanvas.style.cursor = "default";
            if (aiInsightBtn && !aiInsightBtn.matches(":hover")) {
              aiInsightBtn.classList.remove("visible");
              activeMainNode = null;
            }
          });
          initRolesCanvas();
          animateRoles();
          window.addEventListener("resize", initRolesCanvas);

          async function handleAiInsightClick() {
            if (!activeMainNode) return;
            const roleId = activeMainNode.id;
            const roleLabel = roleDefinitions[roleId].label;
            modalTitle.textContent = `AI Insights for ${roleLabel}`;
            modalBody.innerHTML = '<div class="loader"></div>';
            aiInsightModal.classList.add("visible");
            const allSkillsForAI = skillsDataSource
              .flatMap((cat) => cat.skills)
              .join(", "); // Use skillsDataSource
            const prompt = `I am a developer with skills in: ${allSkillsForAI}. I am particularly interested in ${roleLabel} roles. Please provide: 1. Three key emerging trends in the ${roleLabel} field. 2. Two innovative project ideas that would effectively showcase my skills for a ${roleLabel} position. 3. Suggest two learning resources or specific areas to focus on to further strengthen my profile for this path. Format the response clearly with headings for each section (Trends, Project Ideas, Learning Focus). Use bullet points for lists.`;
            try {
              let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
              const payload = { contents: chatHistory };
              const apiKey = "";
              const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
              const response = await fetch(apiUrl, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(payload),
              });
              if (!response.ok)
                throw new Error(
                  `API error: ${response.status} ${response.statusText}`
                );
              const result = await response.json();
              let text = "No response from AI.";
              if (
                result.candidates &&
                result.candidates.length > 0 &&
                result.candidates[0].content &&
                result.candidates[0].content.parts &&
                result.candidates[0].content.parts.length > 0
              ) {
                text = result.candidates[0].content.parts[0].text;
              }
              let htmlResponse = text
                .replace(/^### (.*$)/gim, "<h4>$1</h4>")
                .replace(/^## (.*$)/gim, "<h4>$1</h4>")
                .replace(/^# (.*$)/gim, "<h4>$1</h4>")
                .replace(/\*\*(.*?)\*\*/g, "<strong>$1</strong>")
                .replace(/\*(.*?)\*/g, "<em>$1</em>")
                .replace(/^\* (.*$)/gim, "<li>$1</li>")
                .replace(/^\d+\. (.*$)/gim, "<li>$1</li>")
                .replace(/\n/g, "<br>");
              htmlResponse = htmlResponse
                .replace(/(<li>.*?<\/li>)(?!<li>)/gs, "$1</ul>")
                .replace(/<\/ul><br>(<li>)/gs, "</ul><li>")
                .replace(/^(<li>.*<\/li>)/s, "<ul>$1");
              modalBody.innerHTML = htmlResponse;
            } catch (error) {
              console.error("Error fetching AI insights:", error);
              modalBody.innerHTML = `<p class="text-red-400">Sorry, couldn't fetch AI insights. ${error.message}</p>`;
            }
          }
          modalCloseBtn.addEventListener("click", () =>
            aiInsightModal.classList.remove("visible")
          );
          aiInsightModal.addEventListener("click", (e) => {
            if (e.target === aiInsightModal)
              aiInsightModal.classList.remove("visible");
          });
        }

        const enhanceMessageBtn = document.getElementById("enhanceMessageBtn");
        const messageTextarea = document.getElementById("message");
        const contactFormStatus = document.getElementById("contactFormStatus");

        if (enhanceMessageBtn && messageTextarea) {
          enhanceMessageBtn.addEventListener("click", async () => {
            const originalMessage = messageTextarea.value;
            let userPrompt =
              "Polish this message for a professional portfolio contact form. Make it clear, concise, and engaging. If it's very short or vague, suggest additions to make it a better inquiry for collaboration or job opportunities.";
            if (originalMessage.trim() === "") {
              userPrompt =
                "Draft a friendly and professional outreach message for a portfolio contact form, expressing interest in potential collaborations or job opportunities related to software development or SDET roles.";
            }
            const prompt = `${userPrompt}\n\nOriginal message (if any):\n"${originalMessage}"`;
            enhanceMessageBtn.disabled = true;
            enhanceMessageBtn.textContent = "Enhancing...";
            contactFormStatus.innerHTML =
              '<div class="loader mx-auto my-2" style="width:20px; height:20px; border-width:2px;"></div>';
            try {
              let chatHistory = [{ role: "user", parts: [{ text: prompt }] }];
              const payload = { contents: chatHistory };
              const apiKey = "";
              const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
              const response = await fetch(apiUrl, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(payload),
              });
              if (!response.ok)
                throw new Error(`API error: ${response.status}`);
              const result = await response.json();
              if (
                result.candidates &&
                result.candidates[0].content &&
                result.candidates[0].content.parts[0]
              ) {
                const aiText = result.candidates[0].content.parts[0].text;
                messageTextarea.value = "";
                gsap.to(messageTextarea, {
                  duration: aiText.length * 0.02,
                  text: aiText,
                  ease: "none",
                });
                contactFormStatus.textContent = "Message enhanced by AI ✨";
              } else {
                contactFormStatus.textContent = "Could not enhance message.";
              }
            } catch (error) {
              console.error("Error enhancing message:", error);
              contactFormStatus.innerHTML = `<p class="text-red-400">Enhancement failed. ${error.message}</p>`;
            } finally {
              enhanceMessageBtn.disabled = false;
              enhanceMessageBtn.innerHTML = "✨ Enhance with AI";
              setTimeout(() => {
                contactFormStatus.textContent = "";
              }, 4000);
            }
          });
        }

        const navLinks = document.querySelectorAll('header nav a[href^="#"]');
        navLinks.forEach((link) => {
          link.addEventListener("click", function (e) {
            e.preventDefault();
            const targetId = this.getAttribute("href");
            const targetElement = document.querySelector(targetId);
            if (targetElement)
              gsap.to(window, {
                duration: 1,
                scrollTo: { y: targetElement, offsetY: 70 },
                ease: "power2.inOut",
              });
          });
        });
        const sections = document.querySelectorAll("section[id]");
        const headerNavLinks = document.querySelectorAll("header nav a");
        sections.forEach((section) => {
          ScrollTrigger.create({
            trigger: section,
            start: "top center",
            end: "bottom center",
            onToggle: (self) => {
              const correspondingLink = document.querySelector(
                `header nav a[href="#${section.id}"]`
              );
              if (self.isActive && correspondingLink) {
                headerNavLinks.forEach((l) => l.classList.remove("active"));
                correspondingLink.classList.add("active");
              }
            },
          });
        });

        const contactForm = document.getElementById("contactForm");
        const formFieldsDiv = contactForm.querySelector(".form-fields");
        const transmissionAnimationDiv = document.getElementById(
          "messageTransmissionAnimation"
        );

        if (contactForm) {
          contactForm.addEventListener("submit", function (e) {
            e.preventDefault();
            gsap.to(formFieldsDiv, {
              opacity: 0,
              y: -30,
              duration: 0.5,
              ease: "power2.in",
              onComplete: () => {
                formFieldsDiv.style.display = "none";
                transmissionAnimationDiv.style.display = "block";
                transmissionAnimationDiv.innerHTML =
                  '<div class="transmission-pulse"></div>';
                for (let i = 0; i < 10; i++) {
                  const bar = document.createElement("div");
                  bar.className = "transmission-bar";
                  bar.style.left = `${Math.random() * 95}%`;
                  bar.style.animationDelay = `${Math.random() * 0.5}s`;
                  transmissionAnimationDiv.appendChild(bar);
                }
              },
            });

            contactFormStatus.innerHTML =
              '<p class="text-yellow-400">Transmitting message...</p>';
            setTimeout(() => {
              gsap.to(transmissionAnimationDiv, {
                opacity: 0,
                duration: 0.5,
                onComplete: () => {
                  transmissionAnimationDiv.style.display = "none";
                  transmissionAnimationDiv.style.opacity = "1";
                  formFieldsDiv.style.display = "block";
                  gsap.fromTo(
                    formFieldsDiv,
                    { opacity: 0, y: 30 },
                    {
                      opacity: 1,
                      y: 0,
                      duration: 0.5,
                      ease: "power2.out",
                      delay: 1,
                    }
                  );
                },
              });
              contactFormStatus.innerHTML =
                '<p class="text-green-400">Message Transmitted Successfully! (Demo)</p>';
              contactForm.reset();
              messageTextarea.value = "";
              gsap.fromTo(
                contactFormStatus,
                { opacity: 0, y: -10 },
                { opacity: 1, y: 0, duration: 0.5 }
              );
              setTimeout(() => {
                gsap.to(contactFormStatus, {
                  opacity: 0,
                  y: -10,
                  duration: 0.5,
                  onComplete: () => (contactFormStatus.innerHTML = ""),
                });
              }, 5000);
            }, 2500);
          });
        }
      });
    </script>
  </body>
</html>
